<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Show do Milhão</title>
    <link rel="stylesheet" href="./style.css">
    <style>

        body {
            text-align: center;
            color: #eeeeee;
            font-family: Arial, Helvetica, sans-serif;
            background-color: #555555;
            width: 40em;
            margin: 0 auto;
        }

        button {
            font-size: 1.4em;
            border: none;
            background-color: #bbeeee;
            border-radius: 1em;
            display: block;
            width: 80%;
            padding-top: 1em;
            padding-bottom: 1em;
            margin: 20px auto;
        }
    </style>
</head>

<body>
    <header>
        <h1>Shoooow do Milhão!</h1>
    </header>
    <main>
        <section id="titulo"></section>
        <section id="questao"></section>
    </main>
    <footer>
        <h3>Acertos: 0 <br> Erros: 0</h3>
        <script>
            let questaoElement = document.querySelector("section#questao");
            let footerElement = document.querySelector("footer");
            let proximoElement = document.createElement("button");
            let proximoText = document.createTextNode("Próxima questão");
            proximoElement.setAttribute('onclick', 'proximaQuestao()');
            proximoElement.appendChild(proximoText);

            let acertos = 0;
            let erros = 0;
            let questaoNumero = 0;



            class questao {
                constructor(pergunta, alternativa = [], certa) {
                    this.pergunta = pergunta;
                    this.alternativa = alternativa;
                    this.certa = certa;
                }

            }

            function proximaQuestao() {
                questaoNumero++;
                console.log(questaoNumero);
                if (questaoNumero < questionario.length)
                    renderQuestao(questionario[questaoNumero]);
            }



            function acertou() {
                questaoElement.innerHTML = '<h1>Certa resposta!</h1>';
                questaoElement.appendChild(proximoElement);
                acertos++;
                footerElement.innerHTML = '<h3>acertos: ' + acertos + '<br>erros: ' + erros + '<h3>'
            }

            function errou() {
                questaoElement.innerHTML = '<h1>Errrrrrrouuu</h1>';
                questaoElement.appendChild(proximoElement);
                erros++;
                footerElement.innerHTML = '<h3>acertos: ' + acertos + '<br>erros: ' + erros + '<h3>'
            }

            let questionario = [new questao("quando é comemorada a independencia do Brasil?", ["4 de Julho", "15 de Novembro", "7 de Setembro"], 2),
            new questao("quanto é a raiz quadrada de 144?", ["13", "-11", "12", "5"], 2),
            new questao("quanto é a raiz quadrada de 169?", ["13", "-11", "12", "5"], 0),
            new questao("Quem compôs \"Here comes the Sun\"?", ["John Lennon", "Eric Clapton", "Paul McCartney", "George Harrison"], 3),
            ];
            console.log(questionario);

            function renderQuestao(questao) {
                questaoElement.innerHTML = "";
                let perguntaElement = document.createElement('h3');
                let perguntaText = document.createTextNode(questao.pergunta);

                perguntaElement.appendChild(perguntaText);
                questaoElement.appendChild(perguntaElement);

                for (alternativa in questao.alternativa) {


                    let alternativaElement = document.createElement("button");
                    let alternativaText = document.createTextNode(questao.alternativa[alternativa]);
                    if (alternativa == questao.certa)
                        alternativaElement.setAttribute('onclick', 'acertou()');
                    else
                        alternativaElement.setAttribute('onclick', 'errou()');
                    alternativaElement.appendChild(alternativaText);
                    questaoElement.appendChild(alternativaElement);
                    const breakElement = document.createElement("br");
                    questaoElement.appendChild(breakElement);

                }


            };
            renderQuestao(questionario[questaoNumero]);
        </script>
    </footer>
</body>

</html>